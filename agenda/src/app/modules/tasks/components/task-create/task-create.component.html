<a routerLink="/tasks">
  <p class="text-gray-500 hover:text-blue-500 mb-10 text-xl"><<</p>
</a>


<app-error-message [type]="errType" [isOn]="errIsOn" [message]="errMessage"></app-error-message>

<form [formGroup]="taskForm" class="w-full max-w-lg" (ngSubmit)="onSubmit()">
  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
      <label for="title" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Title</label>
      <input
        id="title"
        type="text"
        formControlName="title"
        placeholder="Task Title"
        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
      />
      <p class="text-red-500 text-xs italic">{{ getErrorMessage('title') }}</p>
    </div>

    <div class="w-full md:w-1/2 px-3">
      <label for="category" class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">Category</label>
      <input
        id="category"
        type="text"
        formControlName="category"
        placeholder="Task Category"
        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
      />
      <p class="text-red-500 text-xs italic">{{ getErrorMessage('category') }}</p>
    </div>
  </div>

  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="description">
        Description
      </label>
      <textarea
        class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
        id="description"
        formControlName="description"
        placeholder="Task Description"
      ></textarea>
      <p *ngIf="taskForm.get('description')?.errors?.['required']" class="text-red-500 text-xs italic">Description is required</p>
      <p *ngIf="taskForm.get('description')?.errors?.['maxLength']" class="text-red-500 text-xs italic">Description is too long</p>
    </div>
  </div>

  <div class="flex flex-wrap -mx-3 mb-6">
    <div class="w-full md:w-1/3 px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="priority">
        Priority
      </label>
      <select
        class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
        id="priority"
        formControlName="priority"
      >
        <option value="LOW">Low</option>
        <option value="MEDIUM">Medium</option>
        <option value="HIGH">High</option>
      </select>
    </div>

    <div class="w-full md:w-1/3 px-3">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="status">
        Status
      </label>
      <select
        class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
        id="status"
        formControlName="status"
      >
        <option value="TODO">To Do</option>
        <option value="DOING">Doing</option>
        <option value="DONE">Done</option>
      </select>
    </div>
  </div>

  <div class="flex justify-end">
    <button
      type="submit"
      class="text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-full text-sm px-5 py-2.5 me-2 mb-2"
    >
      Save Task
    </button>
  </div>
</form>
